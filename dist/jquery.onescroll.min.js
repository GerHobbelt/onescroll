/*
 *  jQuery Onescroll - v0.9.2
 *  A scrollbar in the making.
 *  https://github.com/kahwee/onescroll.git
 *
 *  Made by 
 *  Under MIT License
 */
!function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=function(a,b){return function(){return a.apply(b,arguments)}},d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,e){var f,g,h,i,j,k,l;return k="onescroll",l=["Vertical","VerticalRight","VerticalLeft","Horizontal","HorizontalTop","HorizontalBottom"],j={wrapperClassName:""+k+"-wrapper",className:""+k,railHorizontalClassName:""+k+"-rail-h",railVerticalClassName:""+k+"-rail-v",barHorizontalClassName:""+k+"-bar-h",barVerticalClassName:""+k+"-bar-v",height:"auto",width:"auto",showScrollbarsEvent:"mousewheel",hideScrollbarsEvent:"idle",hideScrollbarsWhenIdle:1e4,scrollbars:[{type:"VerticalRight"},{type:"HorizontalBottom"}]},g=function(){function b(b,c){var d,e,f,g=this;this.onescroll=b,d={type:"Vertical",railPadding:["0px","8px"]},this.scrollSettings=a.extend({},d,c),e="Vertical"===this.scrollSettings.type?[["top","bottom"],["Top","Bottom"]]:[["left","right"],["Left","Right"]],this.edgesName=e[0],this.edgesNameCap=e[1],f="Vertical"===this.scrollSettings.type?["height","Height"]:["width","Width"],this.lengthName=f[0],this.lengthNameCap=f[1],this.railClassName=this.onescroll.settings["rail"+this.scrollSettings.type+"ClassName"],this.barClassName=this.onescroll.settings["bar"+this.scrollSettings.type+"ClassName"],this.onescroll.$elWrapper.on("onescroll:showScrollbars",function(){return g.$bar.fadeIn(),g.$rail.fadeIn(),g.$railInner.fadeIn()}),this.onescroll.$elWrapper.on("onescroll:hideScrollbars",function(){return g.$bar.fadeOut(),g.$rail.fadeOut(),g.$railInner.fadeOut()}),this.onescroll.$elWrapper.on("onescroll:scrolled",function(a,b,c,d){var e;return e="Vertical"===g.scrollSettings.type?b:c,null==d?g.updateBarPosition(e):g.barId!==d.barId?g.updateBarPosition(e):void 0})}return b.prototype.createRail=function(){return this.$rail=a('<div class="'+this.railClassName+'"></div>').uniqueId().css(this.scrollSettings.railCss),this.$railInner=a('<div class="'+this.railClassName+'-inner"></div>').css(this.scrollSettings.railInnerCss).appendTo(this.$rail),this.railId=this.$rail.get(0).id,this.onescroll.$elWrapper.append(this.$rail),this.$rail.css("padding-"+this.edgesName[0],this.scrollSettings.railPadding[0]),this.$rail.css("padding-"+this.edgesName[1],this.scrollSettings.railPadding[1])},b.prototype.getBarBoxOffset=function(){return parseInt(this.$bar.css(this.edgesName[0]),10)},b.prototype.getRailBoxOffset=function(){return parseInt(this.scrollSettings.railPadding[0],10)},b.prototype.updateBarPosition=function(a){var b,c;return null!=a?(c=a/this.onescroll["most"+this.edgesNameCap[0]]||0,b=(this.$railInner.get(0)["offset"+this.lengthNameCap]-this.$bar.get(0)["offset"+this.lengthNameCap])*c+parseInt(this.scrollSettings.railPadding[0],10),null!=this.previousPercentage&&this.previousPercentage!==c&&this.onescroll.$elWrapper.trigger("onescroll:barPositionChanged",[this.scrollSettings.type,c,a,b]),this.previousPercentage=c,this.$bar.css(this.edgesName[0],b)):void 0},b.prototype.refreshBarSize=function(){var a;return null==this.scrollSettings.barCss[this.lengthName]?(a=parseInt(this.onescroll.$elWrapper.css(this.lengthName),10)/parseInt(this.onescroll.$canvas.css(this.lengthName),10),a=a>1?1:a,this.$bar.css(this.lengthName,Math.ceil(a*this.$railInner.get(0)["offset"+this.lengthNameCap]))):void 0},b.prototype._setBarBoxOffset=function(a){return null!=this.scrollSettings.railCss[a]?this.$bar.css(a,this.scrollSettings.railCss[a]):void 0},b.prototype.getPercentage=function(){return(this.getBarBoxOffset()-this.getRailBoxOffset())/(this.$railInner.get(0)["offset"+this.lengthNameCap]-this.$bar.get(0)["offset"+this.lengthNameCap])},b.prototype.createBar=function(){var b,c,d,e;for(this.$bar=a('<div class="'+this.barClassName+'"></div>').uniqueId().css(this.scrollSettings.barCss),this.barId=this.$bar.get(0).id,e=["right","top","left","bottom"],c=0,d=e.length;d>c;c++)b=e[c],this._setBarBoxOffset(b);return this.onescroll.$elWrapper.append(this.$bar),this.refreshBarSize(),this.updateBarPosition(0)},b}(),i=function(c){function d(b,c){var e;this.onescroll=b,e=a.extend({},c),e.type="Vertical",d.__super__.constructor.call(this,this.onescroll,e),this.createRail(),this.createBar()}return b(d,c),d.prototype.createBar=function(){var b=this;return d.__super__.createBar.apply(this,arguments),this.$bar.draggable({axis:"y",containment:this.$railInner,drag:function(c){return b.onescroll.scrollTo(b,null,a(c.target).position().top)}})},d}(g),h=function(c){function d(b,c){var e;this.onescroll=b,e=a.extend({},c),e.type="Horizontal",d.__super__.constructor.call(this,this.onescroll,e),this.createRail(),this.createBar()}return b(d,c),d.prototype.createBar=function(){var b=this;return d.__super__.createBar.apply(this,arguments),this.$bar.draggable({axis:"x",containment:this.$railInner,drag:function(c){return b.onescroll.scrollTo(b,a(c.target).position().left,null)}})},d}(g),f=function(){function b(b,d){this.element=b,this._onWheel=c(this._onWheel,this),this.scrollbars=[],this.settings=a.extend({},j,d),this.$el=a(this.element),this.$canvas=null!=this.settings.canvasClass?this.$el.find(this.settings.canvasClass):this.$el,this.before={},this._defaults=j,this._name=k,this.init()}return b.prototype.destroy=function(){return this.$el.unwrap(),this.$el.css("position",this.before.elPosition)},b.prototype.createWrapper=function(){return this.$el.addClass(this.settings.className).wrap('<div class="'+this.settings.wrapperClassName+'"></div>'),this.$elWrapper=this.$el.parent(),this.$elWrapper.height(this.settings.height),this.$elWrapper.width(this.settings.width)},b.prototype.createScrollbar=function(b){var c,e,f;if(c={railCss:{},railInnerCss:{},barCss:{}},e=a.extend({},c,b),f=b.type,!(d.call(l,f)>=0))throw""+b.type+" is not supported. Supported types are: "+l.join(", ");switch(f){case"Vertical":return this.scrollbars.push(new i(this,e));case"VerticalRight":return e.railCss.right=0,this.scrollbars.push(new i(this,e));case"VerticalLeft":return e.railCss.left=0,this.scrollbars.push(new i(this,e));case"Horizontal":return this.scrollbars.push(new h(this,e));case"HorizontalTop":return e.railCss.top=0,this.scrollbars.push(new h(this,e));case"HorizontalBottom":return e.railCss.bottom=0,this.scrollbars.push(new h(this,e))}},b.prototype.init=function(){var a,b,c,d;for(this.createWrapper(),this.before.elPosition=this.$el.css("position"),this.$el.css("position","absolute"),this.$elWrapper.css("position","relative"),this.settings.height?(this.$elWrapper.height(this.settings.height),this.$el.height("auto")):(this.$el.height("auto"),this.$elWrapper=this.$elWrapper.parent().height()),this.mostTop=-(this.$canvas.outerHeight()-this.$elWrapper.outerHeight()),this.mostLeft=-(this.$canvas.outerWidth()-this.$elWrapper.outerWidth()),d=this.settings.scrollbars,b=0,c=d.length;c>b;b++)a=d[b],this.createScrollbar(a);return e.$el=this.$el,e.$elWrapper=this.$elWrapper,this.addEventListeners()},b.prototype.addEventListeners=function(){var a=this;return this.hideScrollbarsEvent="mouseout",this.$elWrapper.on(this.settings.showScrollbarsEvent,function(){return a.$elWrapper.trigger("onescroll:showScrollbars"),a.settings.hideScrollbarsWhenIdle?x_.delay(function(){return this.$elWrapper.trigger("onescroll:hideScrollbars")},a.settings.hideScrollbarsWhenIdle):void 0}),this.$elWrapper.on("mouseout",function(){return a.$elWrapper.trigger("onescroll:hideScrollbars")}),this.mostTop<0?this.$elWrapper.on("mousewheel",this._onWheel):void 0},b.prototype._onWheel=function(a,b,c,d){return this.scrollWheel(a,b,c,d),this.$elWrapper.trigger("onescroll:mousewheel",b,c,d)},b.prototype.scrollTo=function(a,b,c){var d,e;return e=null!=c?a.getPercentage()*this.mostTop:null,d=null!=b?a.getPercentage()*this.mostLeft:null,this.$elWrapper.trigger("onescroll:scrolled",[e,d,a]),this.$el.css("top",e),this.$el.css("left",d)},b.prototype.scrollWheel=function(a,b,c,d){var e,f,g,h;return h=parseInt(this.$el.css("top"),10)||0,g=parseInt(this.$el.css("left"),10)||0,d=null!=d?d:b,f=h+d,e=g-c,f>=0?f=0:f<=this.mostTop?f=this.mostTop:a.preventDefault(),e>=0?e=0:e<=this.mostLeft?e=this.mostLeft:a.preventDefault(),this.$el.css("top",f),this.$el.height()>this.$elWrapper.height()&&this.$el.css("top",f),this.$el.width()>this.$elWrapper.width()&&this.$el.css("left",e),this.$elWrapper.trigger("onescroll:scrolled",[f,e]),a},b}(),a.fn[k]=function(b){return this.each(function(){return a.data(this,"plugin_"+k)?void 0:a.data(this,"plugin_"+k,new f(this,b))})}}(jQuery,window)}.call(this);