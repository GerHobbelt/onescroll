/*
 *  jQuery Onescroll - v0.9.0
 *  A scrollbar in the making.
 *  https://github.com/kahwee/onescroll.git
 *
 *  Made by 
 *  Under  License
 */
!function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=function(a,b){return function(){return a.apply(b,arguments)}},d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,e){var f,g,h,i,j,k,l;return k="onescroll",l=["Vertical","VerticalRight","VerticalLeft","Horizontal","HorizontalTop","HorizontalBottom"],j={wrapperClassName:""+k+"-wrapper",className:""+k,railHorizontalClassName:""+k+"-rail-h",railVerticalClassName:""+k+"-rail-v",barHorizontalClassName:""+k+"-bar-h",barVerticalClassName:""+k+"-bar-v",height:"auto",width:"auto"},g=function(){function b(b,c){var d=this;this.onescroll=b,j={type:"Vertical",barEdge:"top"},this.settings=a.extend({},j,c),this.barEdge="Vertical"===this.settings.type?"top":"left",this.railClassName=this.onescroll.settings["rail"+this.settings.type+"ClassName"],this.barClassName=this.onescroll.settings["bar"+this.settings.type+"ClassName"],this.onescroll.$elWrapper.on("onescroll:scrolled",function(a,b,c,e){return null==e?d.updateBarPosition(b,c):(console.log(e.barId,d.barId,e.barId!==d.barId),d.barId!==e.barId?(console.log("new",b,c),d.updateBarPosition(b,c)):void 0)})}return b.prototype.createRail=function(){return this.$rail=a('<div class="'+this.railClassName+'"></div>').uniqueId().css(this.settings.railCss),this.$railInner=a('<div class="'+this.railClassName+'-inner"></div>').css(this.settings.railInnerCss),this.$rail.append(this.$railInner),this.railId=this.$rail.get(0).id,this.onescroll.$elWrapper.append(this.$rail)},b.prototype._setBarBoxOffset=function(a){return null!=this.settings.railCss[a]?this.$bar.css(a,this.settings.railCss[a]):void 0},b.prototype.createBar=function(){var b,c,d,e;for(this.$bar=a('<div class="'+this.barClassName+'"></div>').uniqueId(),this.barId=this.$bar.get(0).id,e=["right","top","left","bottom"],c=0,d=e.length;d>c;c++)b=e[c],this._setBarBoxOffset(b);return this.onescroll.$elWrapper.append(this.$bar)},b}(),i=function(c){function d(b,c){var e;this.onescroll=b,e=a.extend({},c),e.type="Vertical",d.__super__.constructor.call(this,this.onescroll,e),this.createRail(),this.railPadding=[parseInt(this.$rail.css("padding-top"),10),parseInt(this.$rail.css("padding-bottom"),10)],this.createBar()}return b(d,c),d.prototype.updateBarPosition=function(a){var b,c;return null!=a?(c=a/this.onescroll.mostTop||0,b=(this.$railInner.outerHeight()-this.$bar.outerHeight())*c+this.railPadding[0],this.$bar.css("top",b)):void 0},d.prototype.createBar=function(){var b=this;return d.__super__.createBar.apply(this,arguments),this.$bar.draggable({axis:"y",containment:this.$railInner,start:function(a){return console.log(a)},drag:function(c){return b.onescroll.scrollTo(b,null,a(c.target).position().top)},stop:function(a){return console.log(a)}}),this.updateBarPosition(0)},d.prototype.getPercentage=function(){return(parseInt(this.$bar.css(this.barEdge),10)-this.railPadding[0])/(this.$railInner.outerHeight()-this.$bar.outerHeight())},d}(g),h=function(c){function d(b,c){var e;this.onescroll=b,e=a.extend({},c),e.type="Horizontal",d.__super__.constructor.call(this,this.onescroll,e),this.createRail(),this.railPadding=[parseInt(this.$rail.css("padding-left"),10),parseInt(this.$rail.css("padding-right"),10)],this.createBar()}return b(d,c),d.prototype.updateBarPosition=function(a,b){var c,d;return null!=b?(d=b/this.onescroll.mostLeft||0,c=(this.$railInner.outerWidth()-this.$bar.outerWidth())*d+this.railPadding[0],this.$bar.css("left",c)):void 0},d.prototype.createBar=function(){var b=this;return d.__super__.createBar.apply(this,arguments),this.$bar.draggable({axis:"x",containment:this.$railInner,start:function(a){return console.log(a)},drag:function(c){return b.onescroll.scrollTo(b,a(c.target).position().left,null)},stop:function(a){return console.log(a)}}),this.updateBarPosition(null,0)},d.prototype.getPercentage=function(){return(parseInt(this.$bar.css(this.barEdge),10)-this.railPadding[0])/(this.$railInner.outerWidth()-this.$bar.outerWidth())},d}(g),f=function(){function b(b,d){this.element=b,this._onWheel=c(this._onWheel,this),this.scrollbars=[],e.test=this.element,this.settings=a.extend({},j,d),this.before={},this._defaults=j,this._name=k,this.init()}return b.prototype.destroy=function(){return this.$el.unwrap(),this.$el.css("position",this.before.elPosition)},b.prototype.createWrapper=function(){return this.$el=a(this.element).addClass(this.settings.className).wrap('<div class="'+this.settings.wrapperClassName+'"></div>'),this.$elWrapper=this.$el.parent()},b.prototype.createScrollbar=function(b){var c,e;if(j={railCss:{},railInnerCss:{},barCss:{}},c=a.extend({},j,b),e=b.type,d.call(l,e)>=0){switch(e){case"Vertical":this.scrollbars.push(new i(this,c));break;case"VerticalRight":c.railCss.right=0,this.scrollbars.push(new i(this,c));break;case"VerticalLeft":c.railCss.left=0,this.scrollbars.push(new i(this,c));break;case"Horizontal":this.scrollbars.push(new h(this,c));break;case"HorizontalTop":c.railCss.top=0,this.scrollbars.push(new h(this,c));break;case"HorizontalBottom":c.railCss.bottom=0,this.scrollbars.push(new h(this,c))}return console.log("HSSS")}throw""+b.type+" is not supported. Supported types are: "+l.join(", ")},b.prototype.init=function(){var a,b,c,d;for(this.createWrapper(),this.before.elPosition=this.$el.css("position"),this.$el.css("position","absolute"),this.$elWrapper.css("position","relative"),this.settings.height?(this.$elWrapper.height(this.settings.height),this.$el.height("auto")):(this.$el.height("auto"),this.$elWrapper=this.$elWrapper.parent().height()),this.mostTop=-(this.$el.outerHeight()-this.$elWrapper.outerHeight()),this.mostLeft=-(this.$el.outerWidth()-this.$elWrapper.outerWidth()),d=this.settings.scrollbars,b=0,c=d.length;c>b;b++)a=d[b],this.createScrollbar(a);return e.$el=this.$el,e.$elWrapper=this.$elWrapper,this.addEventListeners()},b.prototype.addEventListeners=function(){return this.$elWrapper.on("mousewheel",this._onWheel)},b.prototype._onWheel=function(a,b,c,d){return this.scrollWheel(b,c,d),this.$elWrapper.trigger("onescroll:mousewheel",b,c,d),a.preventDefault()},b.prototype.scrollTo=function(a,b,c){var d,e;return e=null!=c?a.getPercentage()*this.mostTop:null,d=null!=b?a.getPercentage()*this.mostLeft:null,this.$elWrapper.trigger("onescroll:scrolled",[e,d,a]),this.$el.css("top",e),this.$el.css("left",d)},b.prototype.scrollWheel=function(a,b,c){var d,e,f,g;return g=parseInt(this.$el.css("top"),10)||0,f=parseInt(this.$el.css("left"),10)||0,e=g+c,d=f-b,e>=0?e=0:e<=this.mostTop&&(e=this.mostTop),d>=0?d=0:d<=this.mostLeft&&(d=this.mostLeft),this.$el.css("top",e),this.$el.css("left",d),this.$elWrapper.trigger("onescroll:scrolled",[e,d])},b}(),a.fn[k]=function(b){return this.each(function(){return a.data(this,"plugin_"+k)?void 0:a.data(this,"plugin_"+k,new f(this,b))})}}(jQuery,window)}.call(this);